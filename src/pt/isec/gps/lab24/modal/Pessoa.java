package pt.isec.gps.lab24.modal;

import javafx.animation.TranslateTransition;
import javafx.scene.layout.*;
import javafx.scene.paint.Color;
import javafx.scene.shape.SVGPath;
import javafx.util.Duration;
import pt.isec.gps.lab24.modal.recursos.Direcao;
import pt.isec.gps.lab24.modal.recursos.Posicao;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class Pessoa {
    private boolean infetada = false;
    private boolean imune = false;
    private boolean quarentena = false;
    private int diasInfetados = -1;
    private int turnosEmQuarentena = -1;
    private Posicao posicao;
    private Posicao prevPosicao;
    private double probInfetar;
    private double probImunidade;
    private int turnoSemInfetar;
    private StackPane panePessoa;
    private SVGPath svgPessoa;
    private boolean contactoInfetada = false;
    private int turnoSemInfetarCount=0;
    private boolean podeSerInfetado = true;

    public Pessoa(Posicao posicao, double probInfetar, double probImunidade, int turnoSemInfetar, int turnosEmQuarentena) {
        this.posicao = posicao;
        this.prevPosicao = new Posicao(posicao.getX(), posicao.getY());
        this.probInfetar = probInfetar;
        this.probImunidade = probImunidade;
        this.turnoSemInfetar = turnoSemInfetar;
        this.turnosEmQuarentena = turnosEmQuarentena;
        //icon

        List<String> svgIcons = new ArrayList<>();
        svgIcons.add("M25.58,89.68c4.46-1.98,6.57-2.92,10.89-7.35C21.3,78.92,14.89,74.3,14.89,54.28v-6.68 c0.91-14.65,4.8-27.62,13.15-37.11C38.28-1.16,71.78-6.57,86.27,12.92c17.47,23.49,23.04,66.16-7.07,70.12 c3.89,3.81,5.4,4.38,9.58,5.95c1.15,0.43,2.45,0.92,3.38,1.29l0,0.01c0.07,0.03,0.14,0.06,0.21,0.09 c5.62,2.99,10.53,6.8,14.49,11.72c3.94,4.9,6.91,10.88,8.66,18.22c0.05,0.18,0.08,0.37,0.08,0.57c0,1.1-0.89,1.99-1.99,1.99H1.99v0 c-0.13,0-0.27-0.01-0.41-0.04c-1.08-0.22-1.77-1.28-1.54-2.35c1.45-6.88,3.93-12.83,7.57-17.76c3.67-4.96,8.5-8.85,14.6-11.53l0,0 C23.17,90.75,24.44,90.19,25.58,89.68L25.58,89.68z M58.9,88.03c0.41-0.02,0.82-0.04,1.21-0.06c7.13-0.52,15.39-4.24,20.69-10.94 c3.11-3.94,3.84-8.15,5.74-14.1c5.79,1.02,10.53-18.46,3.87-17.03l-1-11.05c-10.73,5.1-15.2-8.87-23.52-6.81 c-14.65,3.63-29.69,16.58-39.42,6.69L25.37,45.8c-6.7-1.69-2.57,18.07,3.59,16.33c2.23,6.43,3.39,11.04,6.96,15.23 c5.82,6.81,14.9,10.52,22.04,10.67C58.28,88.03,58.59,88.03,58.9,88.03L58.9,88.03z M69.25,55.42c-0.03,0.15-0.05,0.3-0.05,0.46 c0,1.29,1.04,2.33,2.33,2.33c1.29,0,2.33-1.04,2.33-2.33c0-0.3-0.06-0.58-0.16-0.85c1.2,0.09,2.42,0.33,3.65,0.73 c0.58,0.19,1.19-0.2,1.36-0.86c0.17-0.66-0.17-1.35-0.76-1.54c-1.77-0.58-3.53-0.86-5.29-0.86c-1.76,0-3.5,0.29-5.23,0.86 c-0.58,0.19-0.92,0.88-0.75,1.54c0.17,0.66,0.78,1.04,1.36,0.85C68.44,55.64,68.84,55.52,69.25,55.42L69.25,55.42z M49.29,73.44 c-0.54-0.43-0.62-1.21-0.2-1.74c0.43-0.53,1.21-0.62,1.74-0.19c2.57,2.05,4.97,3.06,7.21,3.05c2.18-0.01,4.28-1.01,6.3-2.98 c0.49-0.48,1.28-0.47,1.76,0.02c0.48,0.49,0.47,1.28-0.02,1.76c-2.49,2.43-5.17,3.67-8.04,3.68 C55.23,77.05,52.31,75.86,49.29,73.44L49.29,73.44z M54.26,65.59c-0.51-0.46-0.55-1.25-0.08-1.76c0.46-0.51,1.25-0.55,1.76-0.08 c0.63,0.58,1.23,0.85,1.78,0.85c0.56-0.01,1.17-0.3,1.83-0.87c0.52-0.45,1.3-0.39,1.75,0.13c0.45,0.52,0.39,1.3-0.13,1.75 c-1.1,0.95-2.24,1.46-3.43,1.47C56.54,67.09,55.38,66.61,54.26,65.59L54.26,65.59z M38.3,56c-0.57,0.22-1.2-0.12-1.4-0.78 c-0.2-0.65,0.11-1.36,0.68-1.59c1.76-0.69,3.54-1.01,5.32-1c1.77,0.01,3.53,0.36,5.28,0.99c0.58,0.21,0.9,0.91,0.71,1.56 c-0.18,0.66-0.8,1.02-1.38,0.81c-0.4-0.14-0.79-0.27-1.18-0.38c0.04,0.16,0.05,0.33,0.05,0.51c0,1.29-1.04,2.33-2.33,2.33 c-1.29,0-2.33-1.04-2.33-2.33c0-0.35,0.08-0.67,0.21-0.97C40.74,55.25,39.52,55.53,38.3,56L38.3,56z M37.51,48.99 c-0.53,0.44-1.31,0.36-1.75-0.17c-0.44-0.53-0.36-1.31,0.17-1.75c2.6-2.15,6.75-1.41,10.3-0.77c1.5,0.27,2.88,0.52,3.83,0.48 c0.69-0.02,1.26,0.51,1.29,1.2c0.02,0.69-0.51,1.26-1.2,1.29c-1.21,0.04-2.72-0.23-4.36-0.52C42.76,48.21,39.23,47.57,37.51,48.99 L37.51,48.99z M79.66,46.83c0.53,0.44,0.61,1.22,0.17,1.75c-0.44,0.53-1.22,0.61-1.75,0.17c-1.72-1.42-5.25-0.79-8.29-0.24 c-1.64,0.29-3.14,0.57-4.36,0.52c-0.69-0.02-1.22-0.6-1.2-1.29c0.02-0.69,0.6-1.22,1.29-1.2c0.95,0.03,2.33-0.21,3.83-0.48 C72.92,45.43,77.06,44.68,79.66,46.83L79.66,46.83z M39.28,84.6c-5.22,5.37-7.14,5.57-13.91,8.71 c6.84,19.62,52.16,26.15,63.08-0.87c-6.84-2.83-7.65-2.58-12.86-7.83C66.92,93.24,48.32,92.45,39.28,84.6L39.28,84.6z");
       // svgIcons.add("M117.49326,98.27951a11.41528,11.41528,0,0,0-6.1519-8.2847c-10.697-5.33411-34.17046-13.212-34.17046-13.212V69.03229l.65343-.49313a22.42566,22.42566,0,0,0,8.51484-14.25174l.13151-.826h.637a8.66287,8.66287,0,0,0,8.01764-5.39167A9.43369,9.43369,0,0,0,96.30471,43.5a8.67979,8.67979,0,0,0-.61644-3.21363A4.48227,4.48227,0,0,0,93.95,37.49191l-2.16572-1.315.53834-2.35062c3.91226-17.0544-9.29979-32.41574-27.04046-32.839C64.85067.979,64.42327.975,64,.98315,63.57669.975,63.14933.979,62.71783.98726c-17.74068.42329-30.95269,15.78463-27.04046,32.839l.53834,2.35062L34.05,37.49191a4.48232,4.48232,0,0,0-1.73833,2.79448A8.67976,8.67976,0,0,0,31.69529,43.5a9.4333,9.4333,0,0,0,1.17942,4.56973,8.66286,8.66286,0,0,0,8.0176,5.39167h.637l.13151.826a22.42566,22.42566,0,0,0,8.51484,14.25174l.65343.49313v7.75047s-23.4734,7.87794-34.17042,13.212a11.4151,11.4151,0,0,0-6.1519,8.2847c-1.83285,10.697-2.15747,28.7418-2.15747,28.7418H119.65073S119.32607,108.97654,117.49326,98.27951Z");
        svgIcons.add("M24.79,91.8c4.43-1.97,6.58-2.92,10.78-7.17c-1.25-1.05-2.42-2.2-3.48-3.45c-3.25-3.81-4.61-7.84-6.37-13.09 c-0.21-0.62-0.42-1.26-0.63-1.86c-2.23-0.03-4.11-1.92-5.44-4.55c-1.03-2.04-1.75-4.56-2.01-6.89c-0.28-2.44-0.05-4.73,0.84-6.19 c0.63-1.03,1.51-1.67,2.68-1.76l0.36-3.62c-0.46-2.79-1-5.73-1.4-8.53c-0.11-0.75-0.17-1.48-0.21-2.21 c-1.62,0.33-2.94-1.19-3.18-5.44v-6.86c0.99-8.2,4.81-11.49,11.08-10.55C33.78,3.4,42.2-0.08,53.79,0.01 c12.91-0.25,23.92,2.76,31.92,10.95c4.21,4.19,5.99,10.67,4.91,19.9c0.04,1.75-0.06,3.59-0.34,5.52c-0.31,2.18-0.68,4.44-0.98,6.56 l0.37,4.06c1.17,0.13,2.03,0.8,2.62,1.87c0.72,1.3,0.93,3.21,0.74,5.3c-0.18,1.98-0.7,4.16-1.47,6.13 c-1.35,3.47-3.52,6.33-6.05,6.65c-0.27,0.89-0.54,1.8-0.8,2.68c-1.3,4.38-2.32,7.82-4.98,11.19c-1.05,1.32-2.2,2.54-3.43,3.64 c4.45,4.45,5.93,5.01,10.42,6.69c1.05,0.39,2.24,0.84,3.33,1.27l0,0c0.04,0.01,0.07,0.03,0.1,0.05c5.46,2.91,10.23,6.6,14.07,11.37 c3.83,4.76,6.72,10.58,8.41,17.74c0.03,0.09,0.04,0.19,0.04,0.29c0,0.56-0.46,1.02-1.02,1.02H1.02v0c-0.07,0-0.14-0.01-0.21-0.02 c-0.55-0.11-0.9-0.65-0.79-1.2c1.41-6.68,3.81-12.46,7.34-17.23c3.54-4.78,8.2-8.53,14.09-11.13v0 C22.55,92.79,23.73,92.27,24.79,91.8L24.79,91.8z M73.73,86.5c-0.67,0.48-1.36,0.94-2.06,1.36c-2.68,2.14-5.35,3.11-8.35,3.6 c-2.69,0.73-5.37,1.08-7.86,1.03c-2.53-0.05-5.28-0.52-8.04-1.39c-1.47-0.4-2.91-0.95-4.33-1.68c-0.15-0.07-0.29-0.14-0.43-0.21 c-1.55-0.75-3.07-1.63-4.52-2.63c-4.78,4.85-6.7,5.11-13.08,8.06c6.59,18.92,50.3,25.22,60.84-0.84 C79.4,91.12,78.53,91.3,73.73,86.5L73.73,86.5z M66.65,58.52c-0.03,0.14-0.04,0.28-0.04,0.42c0,1.28,1.03,2.31,2.31,2.31 c1.28,0,2.31-1.03,2.31-2.31c0-0.28-0.05-0.55-0.14-0.8c1.19,0.09,2.39,0.33,3.6,0.73c0.59,0.19,1.21-0.2,1.38-0.88 c0.17-0.68-0.18-1.38-0.77-1.57c-1.75-0.57-3.5-0.86-5.25-0.85c-1.75,0-3.48,0.29-5.19,0.86c-0.59,0.19-0.93,0.9-0.76,1.57 c0.17,0.67,0.79,1.06,1.38,0.87C65.87,58.73,66.26,58.61,66.65,58.52L66.65,58.52z M34.59,54.22c-0.54,0.44-1.34,0.37-1.78-0.17 c-0.44-0.54-0.37-1.34,0.17-1.78c2.65-2.19,6.87-1.43,10.49-0.78c1.52,0.27,2.93,0.53,3.9,0.49c0.7-0.02,1.28,0.52,1.31,1.22 c0.02,0.7-0.52,1.28-1.22,1.31c-1.23,0.04-2.77-0.23-4.43-0.53C39.94,53.42,36.34,52.78,34.59,54.22L34.59,54.22z M35.99,59.09 c-0.58,0.23-1.22-0.13-1.42-0.79c-0.2-0.66,0.11-1.39,0.7-1.62c1.75-0.68,3.51-1,5.28-0.99c1.75,0.01,3.5,0.35,5.25,0.98 c0.59,0.21,0.91,0.92,0.73,1.59c-0.19,0.67-0.81,1.04-1.4,0.83c-0.39-0.14-0.77-0.26-1.16-0.37c0.03,0.15,0.05,0.3,0.05,0.46 c0,1.28-1.03,2.31-2.31,2.31c-1.27,0-2.31-1.03-2.31-2.31c0-0.33,0.07-0.64,0.19-0.93C38.39,58.35,37.2,58.62,35.99,59.09 L35.99,59.09z M77.51,52.02c0.54,0.44,0.62,1.24,0.17,1.78c-0.44,0.54-1.24,0.62-1.78,0.17c-1.75-1.45-5.35-0.8-8.44-0.24 c-1.67,0.3-3.2,0.58-4.43,0.53c-0.7-0.02-1.24-0.61-1.22-1.31c0.02-0.7,0.61-1.24,1.31-1.22c0.97,0.03,2.38-0.22,3.9-0.49 C70.64,50.59,74.86,49.83,77.51,52.02L77.51,52.02z M51.64,67.21c-0.52-0.47-0.56-1.27-0.08-1.79c0.47-0.52,1.27-0.56,1.79-0.08 c0.65,0.59,1.25,0.87,1.82,0.86c0.58-0.01,1.2-0.31,1.86-0.88c0.53-0.46,1.33-0.4,1.78,0.13c0.46,0.53,0.4,1.33-0.13,1.78 c-1.12,0.97-2.29,1.48-3.5,1.5C53.96,68.74,52.78,68.24,51.64,67.21L51.64,67.21z M85.12,56.23c-0.2-0.36-0.08-0.81,0.27-1.02 c0.36-0.2,0.81-0.08,1.02,0.27c0.76,1.32,0.89,2.66-0.03,4.01c-0.23,0.34-0.69,0.43-1.03,0.2c-0.34-0.23-0.43-0.69-0.2-1.03 C85.68,57.87,85.59,57.06,85.12,56.23L85.12,56.23z M23.85,55.49c0.2-0.36,0.66-0.48,1.02-0.27c0.36,0.2,0.48,0.66,0.27,1.02 c-0.47,0.83-0.57,1.64-0.03,2.43c0.23,0.34,0.14,0.8-0.2,1.03c-0.34,0.23-0.8,0.14-1.03-0.2C22.96,58.14,23.09,56.81,23.85,55.49 L23.85,55.49z M87.44,48.98l-3.81,2.38l-1.57-10.7c-7.93,4.94-16.99,7.15-26.85,7.4c-9.44-0.07-18.48-2.14-26.9-7.44l-1.71,10.36 l-3.37-1.89c-0.3,0.33-0.77,0.49-1.24,0.37c-0.64-0.16-1.08,0.04-1.35,0.48c-0.58,0.94-0.7,2.66-0.48,4.59 c0.23,2.04,0.86,4.25,1.75,6.02c1.03,2.04,2.36,3.46,3.7,3.09l0,0c0.64-0.18,1.32,0.17,1.54,0.81c0.39,1.14,0.69,2.01,0.97,2.85 c0.27,0.79,0.52,1.56,0.78,2.3l6.72,5.12c2.56,2.51,4.75,2,6.72-0.09c4.86-4.57,20.64-5.69,25.7,0c2.78,2.55,5.15,2.43,7.05,0.09 l7.22-5.93c0.3-1.03,0.63-2.11,1.04-3.4c0.15-0.65,0.79-1.09,1.46-0.97c1.59,0.28,3.26-2.11,4.4-5.05 c0.69-1.76,1.15-3.69,1.31-5.42c0.14-1.62,0.03-3.02-0.43-3.85c-0.24-0.44-0.66-0.66-1.3-0.52l0,0c-0.05,0.01-0.1,0.02-0.15,0.02 C88.13,49.63,87.68,49.38,87.44,48.98L87.44,48.98z M51.49,79.23c-0.63-0.31-0.89-1.06-0.58-1.69c0.31-0.63,1.06-0.89,1.69-0.58 c1.12,0.55,2.1,0.81,3.06,0.8c0.96-0.01,1.95-0.28,3.07-0.81c0.63-0.3,1.39-0.02,1.68,0.61c0.3,0.63,0.02,1.38-0.61,1.68 c-1.45,0.68-2.78,1.04-4.13,1.05C54.32,80.3,52.97,79.96,51.49,79.23L51.49,79.23z");
        svgIcons.add("M68.69,55.03c-0.79,0.27-1.6,0.49-2.44,0.68l0,0c-0.86,0.24-1.65,0.38-2.35,0.4c-0.8,0.02-1.49-0.14-2.04-0.5 c-0.17-0.11-0.32-0.23-0.45-0.36c-0.13,0.13-0.28,0.25-0.45,0.36c-0.55,0.37-1.24,0.51-2.04,0.5c-0.7-0.02-1.49-0.16-2.35-0.4l0,0 c-0.84-0.18-1.65-0.41-2.44-0.68c-0.79-0.27-1.55-0.58-2.3-0.92c-0.36-0.17-0.51-0.57-0.33-0.91c0.11-0.2,0.31-0.33,0.53-0.36l0,0 c0.4-0.06,0.72-0.11,1.02-0.15l0.03,0c0.97-0.13,1.71-0.24,2.61-0.6c0.26-0.1,0.5-0.21,0.76-0.33c1.44-0.67,3.02-1.4,4.6-0.15 c0.14,0.11,0.26,0.22,0.37,0.34c0.11-0.12,0.24-0.23,0.37-0.34c1.57-1.25,3.16-0.52,4.6,0.15c0.25,0.12,0.5,0.23,0.75,0.33 c0.9,0.36,1.65,0.47,2.61,0.6l0.03,0c0.3,0.04,0.62,0.08,1.02,0.15l0,0c0.22,0.04,0.42,0.16,0.53,0.36 c0.18,0.33,0.04,0.74-0.33,0.91C70.24,54.46,69.48,54.76,68.69,55.03L68.69,55.03L68.69,55.03z M85.9,46.5v-8.57 c0.39-1.66,0.95-1.82,1.77-1.97C89.88,35.61,89.62,45.93,85.9,46.5L85.9,46.5L85.9,46.5z M44.17,70.57 c5.65,16.6,29.19,17.15,34.46,0c7.97,7.18,22.96,4.9,34.25,11.45c7.5,4.34,16.23,19.59,3.59,20.54H6.33 c-10.59-0.8-5.74-12.15-0.98-16.96C17.61,73.21,41.25,81.4,44.17,70.57L44.17,70.57L44.17,70.57z M31.85,19.92v-3.78 c0.79-6.56,3.84-9.19,8.86-8.43c4.77-4.98,11.5-7.77,20.77-7.7C71.79-0.2,80.6,2.22,86.99,8.77c3.36,3.35,4.8,6.84,3.93,14.2 c0.18,7.23,0.97,7.82-1.37,9.1c-0.01,0.2-0.02,0.39-0.03,0.6l-1.62,1.02c1.3-0.09,2.22,0.72,2.77,2.09 c0.27,0.69,0.45,1.53,0.52,2.46c0.06,0.86,0.05,1.81-0.06,2.78c-0.38,3.51-2,7.17-4.98,7.6c-0.13,0.02-0.26,0.02-0.38,0.01v0.45 c0,0.02,0,0.04,0,0.06c0.2,4.9-2.39,10.34-6.57,14.7c-7.6,7.93-20.09,11.88-30.93,2.9c-1.88-1.57-4.08-3.11-5.8-5.53 c0.02-0.02,0.04-0.04,0.05-0.05l-0.04-0.03c-2.8-2.6-4.11-3.83-5.23-9.17c-0.02-0.1-0.03-0.22-0.03-0.32l0,0v-3 c-0.16,0.03-0.32,0.03-0.49,0c-2.99-0.44-4.6-4.1-4.98-7.6c-0.1-0.96-0.12-1.92-0.06-2.78c0.07-0.92,0.25-1.77,0.52-2.45 c0.59-1.5,1.63-2.33,3.11-2.05c0.71,0.13,1.37,0.5,1.91,1.12v-1.22l-1.21-0.68c-0.15-0.98-0.17-1.99-0.1-3 C33.7,26.3,32,22.75,31.85,19.92L31.85,19.92L31.85,19.92z M83.05,32.14c-1.43-4-3.84-4.46-7.28-6.56 c-2.89-1.25-5.42-2.31-7.82-3.07c-5.82-1.3-12.22-0.92-17.52,0.85c-1.41,0.55-2.9,1.22-4.51,2.02c-3.38,1.98-5.47,2.17-6.18,5.54 v1.58c7.22-1.04,14.29-1.85,21.69-1.84c5.12,0.01,10.25,0.37,15.37,1.05c2.08,0.01,4.15,0.35,6.23,0.69v-0.27H83.05L83.05,32.14z M39.74,34.63v16.99c1.2,5.77,1.65,4.69,5.34,8.31l6.41,6.28c1.16,0.95,2.47,1.51,3.85,1.84c4.74,1.12,14.72,0.67,18.46-3.26 c5.57-5.42,9.61-7.06,9.22-15.72V34.56l-2.75-0.41c0.24,0.38,0.45,0.78,0.61,1.19c0.18,0.43,0.31,0.89,0.4,1.35 c0.07,0.37,0.12,0.73,0.14,1.1c0.02,0.37,0.01,0.74-0.02,1.11c-0.03,0.37-0.09,0.74-0.18,1.1c-0.08,0.35-0.19,0.71-0.33,1.06 c-0.14,0.35-0.3,0.7-0.5,1.04c-0.19,0.33-0.41,0.65-0.64,0.95c-0.24,0.3-0.5,0.58-0.78,0.84l-0.02,0.02 c-0.27,0.25-0.57,0.48-0.88,0.7c-0.37,0.25-0.77,0.48-1.2,0.67l-0.01,0.01c-0.41,0.18-0.84,0.33-1.3,0.45 c-0.44,0.11-0.91,0.19-1.4,0.24C73.69,46,73.2,46,72.69,45.97c-0.36-0.02-0.74-0.06-1.11-0.12l-0.01,0 c-0.37-0.06-0.74-0.14-1.09-0.23c-0.36-0.09-0.73-0.21-1.1-0.34c-0.35-0.12-0.71-0.27-1.06-0.44c-0.44-0.2-0.86-0.43-1.27-0.68 l-0.02-0.01c-0.39-0.24-0.78-0.51-1.14-0.8c-0.36-0.29-0.71-0.6-1.02-0.92c-0.31-0.32-0.61-0.67-0.87-1.02 c-0.28-0.38-0.53-0.78-0.75-1.21c-0.21-0.41-0.38-0.84-0.52-1.28c-0.13-0.42-0.23-0.85-0.28-1.29c-0.04-0.35-0.06-0.7-0.06-1.06 l-0.36-0.14c-0.09-0.03-0.19-0.05-0.28-0.06c-0.09-0.01-0.19-0.02-0.27-0.02c-0.1,0-0.2,0.01-0.29,0.02 c-0.1,0.02-0.2,0.04-0.29,0.08c-0.1,0.03-0.2,0.08-0.31,0.13l-0.14,0.08c0,0.37-0.02,0.73-0.07,1.08 c-0.06,0.44-0.15,0.86-0.28,1.27c-0.14,0.43-0.31,0.85-0.52,1.26l-0.01,0.02c-0.21,0.41-0.46,0.8-0.73,1.18 c-0.26,0.36-0.56,0.7-0.87,1.02c-0.32,0.33-0.66,0.64-1.02,0.92c-0.36,0.29-0.75,0.56-1.16,0.81c-0.4,0.25-0.83,0.48-1.27,0.68 c-0.36,0.16-0.71,0.31-1.07,0.44l-0.03,0.01c-0.35,0.12-0.7,0.23-1.06,0.32c-0.36,0.09-0.74,0.17-1.12,0.23 c-0.37,0.06-0.74,0.1-1.1,0.12c-0.51,0.03-1,0.02-1.48-0.02c-0.5-0.04-0.97-0.13-1.41-0.24c-0.46-0.12-0.9-0.27-1.31-0.45 l-0.02-0.01c-0.42-0.19-0.81-0.41-1.17-0.65l-0.02-0.01c-0.31-0.21-0.61-0.45-0.88-0.7c-0.28-0.26-0.55-0.54-0.78-0.84l-0.01-0.01 c-0.24-0.29-0.45-0.61-0.64-0.94c-0.19-0.34-0.36-0.68-0.5-1.04c-0.14-0.35-0.25-0.71-0.34-1.07c-0.08-0.35-0.14-0.72-0.18-1.1 c-0.03-0.37-0.04-0.74-0.02-1.1c0.02-0.37,0.07-0.74,0.14-1.1l0.01-0.04c0.09-0.45,0.23-0.89,0.4-1.31c0.16-0.4,0.36-0.79,0.6-1.16 L39.74,34.63L39.74,34.63z M47.86,37.94c-0.36,0.15-0.76-0.08-0.89-0.49c-0.13-0.41,0.07-0.87,0.43-1c2.8-1.09,4.8-1.02,7.6,0 c0.36,0.13,0.57,0.58,0.46,0.99c-0.11,0.41-0.51,0.64-0.87,0.52c-0.47-0.17-0.93-0.31-1.4-0.41c0.05,0.17,0.07,0.34,0.07,0.53 c0,1.08-0.87,1.96-1.96,1.96c-1.08,0-1.96-0.88-1.96-1.96c0-0.27,0.05-0.52,0.15-0.75C48.67,37.41,48.69,37.62,47.86,37.94 L47.86,37.94L47.86,37.94L47.86,37.94z M69.69,37.36c-0.08,0.22-0.12,0.45-0.12,0.69c0,1.08,0.88,1.96,1.96,1.96 c1.08,0,1.96-0.88,1.96-1.96c0-0.31-0.07-0.6-0.2-0.86c0.85,0.09,1.72,0.28,2.58,0.56c0.37,0.12,0.76-0.12,0.86-0.55 c0.1-0.42-0.11-0.86-0.47-0.98c-1.41-0.47-2.82-0.69-4.23-0.68c-1.4,0-2.8,0.24-4.17,0.69c-0.37,0.12-0.58,0.56-0.48,0.97 c0.1,0.41,0.5,0.66,0.86,0.54C68.71,37.59,69.2,37.45,69.69,37.36L69.69,37.36L69.69,37.36L69.69,37.36z M58.99,48.07 c-0.38-0.32-0.44-0.89-0.11-1.27c0.32-0.38,0.89-0.43,1.27-0.11c0.46,0.38,0.89,0.58,1.31,0.58c0.41,0.01,0.87-0.19,1.36-0.59 c0.38-0.32,0.95-0.26,1.27,0.12c0.32,0.38,0.26,0.95-0.12,1.27c-0.83,0.68-1.68,1.02-2.53,0.99 C60.57,49.06,59.76,48.72,58.99,48.07L58.99,48.07L58.99,48.07L58.99,48.07z M56.15,59.81c-0.47-0.25-0.64-0.83-0.39-1.28 c0.25-0.47,0.83-0.64,1.28-0.39c1.47,0.78,2.91,1.17,4.33,1.18c1.42,0,2.84-0.38,4.27-1.17c0.47-0.25,1.04-0.08,1.29,0.37 c0.25,0.46,0.08,1.04-0.37,1.29c-1.71,0.94-3.43,1.41-5.18,1.4C59.62,61.2,57.88,60.73,56.15,59.81L56.15,59.81L56.15,59.81 L56.15,59.81z M36.92,46.5v-8.57c-0.39-1.66-0.86-1.73-1.68-1.89C33.03,35.7,33.08,45.67,36.92,46.5L36.92,46.5L36.92,46.5z M77.17,33.58c-2.01-0.18-4.02-0.28-6.03-0.29c-2.05-0.01-4.11,0.08-6.17,0.3c-0.09,0.18-0.17,0.35-0.24,0.53 c-0.1,0.24-0.18,0.48-0.25,0.7c-0.07,0.25-0.13,0.5-0.18,0.73c-0.04,0.24-0.07,0.47-0.09,0.71c-0.02,0.37-0.02,0.73,0.02,1.08 l0,0.01c0.04,0.35,0.12,0.71,0.22,1.05l0.01,0.03c0.11,0.34,0.24,0.67,0.41,1c0.18,0.34,0.38,0.67,0.61,0.98 c0.22,0.3,0.46,0.58,0.72,0.85c0.27,0.27,0.55,0.53,0.85,0.77c0.31,0.24,0.64,0.48,0.99,0.69c0.34,0.21,0.7,0.4,1.07,0.57 l0.02,0.01c0.29,0.14,0.59,0.26,0.89,0.36c0.3,0.11,0.62,0.21,0.93,0.29c0.31,0.08,0.62,0.15,0.93,0.19 c0.3,0.05,0.62,0.08,0.93,0.1c0.41,0.02,0.81,0.02,1.19-0.02c0.39-0.03,0.75-0.1,1.1-0.18l0.01,0c0.35-0.09,0.69-0.21,1.01-0.35 c0.33-0.15,0.63-0.32,0.91-0.5c0.25-0.17,0.48-0.35,0.69-0.55l0.02-0.02c0.21-0.19,0.4-0.4,0.58-0.62l0.03-0.03 c0.18-0.22,0.34-0.46,0.48-0.71c0.15-0.25,0.27-0.52,0.39-0.81c0.11-0.27,0.2-0.55,0.26-0.84c0.07-0.28,0.11-0.58,0.14-0.87l0-0.04 c0.02-0.28,0.03-0.56,0.01-0.85c-0.01-0.29-0.05-0.58-0.11-0.85c-0.07-0.35-0.17-0.69-0.3-1.01c-0.13-0.32-0.29-0.64-0.48-0.93 c-0.18-0.29-0.39-0.56-0.62-0.81c-0.16-0.17-0.33-0.33-0.51-0.49C77.44,33.73,77.3,33.66,77.17,33.58L77.17,33.58z M46.06,33.6 c-0.12,0.08-0.27,0.14-0.42,0.16l-0.45,0.07c-0.17,0.15-0.33,0.3-0.48,0.46c-0.24,0.26-0.45,0.53-0.63,0.82 c-0.19,0.3-0.35,0.61-0.48,0.93c-0.13,0.33-0.23,0.67-0.3,1.01c-0.06,0.29-0.09,0.58-0.11,0.87c-0.02,0.29-0.01,0.58,0.02,0.88 l0,0.03c0.03,0.27,0.07,0.56,0.14,0.84c0.07,0.29,0.15,0.57,0.26,0.84c0.11,0.27,0.24,0.55,0.39,0.81l0.02,0.03 c0.14,0.25,0.3,0.48,0.48,0.7c0.18,0.23,0.38,0.44,0.6,0.64l0.01,0.01c0.21,0.2,0.44,0.38,0.68,0.54c0.28,0.19,0.58,0.36,0.91,0.5 l0.02,0.01c0.31,0.14,0.65,0.25,1,0.34c0.34,0.09,0.71,0.15,1.1,0.18c0.38,0.03,0.78,0.04,1.19,0.02c0.31-0.02,0.63-0.05,0.93-0.1 s0.61-0.11,0.92-0.19c0.31-0.08,0.63-0.18,0.92-0.28c0.3-0.11,0.61-0.23,0.91-0.37c0.36-0.17,0.73-0.36,1.08-0.58l0.02-0.01 c0.34-0.21,0.66-0.44,0.97-0.67c0.3-0.24,0.58-0.49,0.85-0.77c0.26-0.27,0.5-0.55,0.72-0.84c0.23-0.31,0.43-0.64,0.61-0.98 c0.17-0.34,0.31-0.68,0.42-1.03c0.1-0.35,0.18-0.7,0.22-1.06c0.04-0.35,0.05-0.71,0.02-1.08c-0.02-0.24-0.05-0.48-0.09-0.72l0-0.02 c-0.04-0.23-0.1-0.47-0.17-0.71c-0.07-0.24-0.15-0.47-0.25-0.71c-0.07-0.17-0.15-0.35-0.23-0.52c-2.08-0.19-4.15-0.27-6.21-0.27 C49.78,33.38,47.92,33.46,46.06,33.6L46.06,33.6z M63.13,33.25h-3.47l0.04,0.09c0.1,0.23,0.19,0.45,0.26,0.67 c0.08,0.22,0.15,0.45,0.21,0.67l0.05,0.19l0.31-0.1c0.15-0.04,0.3-0.07,0.45-0.09c0.16-0.02,0.32-0.03,0.48-0.03 c0.15,0,0.29,0.01,0.44,0.02c0.15,0.02,0.29,0.04,0.44,0.08l0.25,0.07l0.05-0.2c0.06-0.21,0.12-0.43,0.2-0.66l0.01-0.02 c0.07-0.22,0.16-0.42,0.24-0.62L63.13,33.25L63.13,33.25z");
        svgIcons.add("M13.06,23.04c4.44-24.3,34.58-31.13,46.69-12c12.88-17.55,42.69-12.81,45.79,10.21 c21.57,8.96,23.51,37.38,3,47.33L78.71,93.85L76.5,96c-0.98,1.02-2,1.87-3.07,2.56c-1.08,0.7-2.22,1.23-3.39,1.61 c-1.75,0.56-5.35,0.8-9.03,0.79c-4.13,0-8.48-0.3-10.45-0.76c-1.13-0.27-2.23-0.63-3.29-1.12c-1.06-0.49-2.09-1.13-3.08-1.94 c-0.05-0.04-0.1-0.09-0.15-0.13l0,0l-9.08-8.89l-0.13-0.13l-24.27-21l0,0C-4.35,54.48-3.43,33.55,13.06,23.04L13.06,23.04z M33.21,51.42l-5.72-0.12v21.25c1.7,8.17,3.8,8.86,9.04,13.99l9.08,8.89c1.64,1.35,3.49,2.15,5.45,2.61 c3.45,0.81,15.05,1.07,18.29,0.02c1.97-0.63,3.83-1.81,5.55-3.61l6.6-6.41c6.37-6.18,10.7-8.85,10.24-19.09V51.31l-4.61,0.1 c0.13,0.67,0.2,1.36,0.2,2.05c0,3.3-1.34,6.28-3.5,8.44c-2.16,2.16-5.15,3.5-8.44,3.5c-3.3,0-6.28-1.34-8.44-3.5 c-2.16-2.16-3.5-5.15-3.5-8.44c0-0.19,0-0.38,0.01-0.56c-0.03-0.03-0.05-0.05-0.08-0.08l0,0c-2.01-2.35-4.27-2.44-6.36,0 c-0.02,0.03-0.05,0.06-0.08,0.08c0.01,0.19,0.01,0.37,0.01,0.56c0,3.3-1.34,6.28-3.5,8.44c-2.16,2.16-5.15,3.5-8.44,3.5 s-6.28-1.34-8.44-3.5c-2.16-2.16-3.5-5.15-3.5-8.44c-0.01-0.74,0.05-1.47,0.18-2.18L33.21,51.42L33.21,51.42z M27.49,48.73 l6.52,0.12c1.83-4.28,6.18-7.4,11.01-7.33c3.3,0,6.28,1.34,8.44,3.5c1.33,1.33,2.35,2.98,2.94,4.82c2.22-1.74,5.39-1.74,7.6,0 c0.58-1.84,1.6-3.49,2.94-4.82c2.16-2.16,5.15-3.5,8.44-3.5c4.74,0,9.04,3.11,10.93,7.32l5.43-0.1V36.69 C89.85,23.9,80.8,18.27,68.46,15.93c-7.28-1.38-14.36-1.53-21.5,0.66c-10.23,3.14-16.91,9.71-19.48,20.23V48.73L27.49,48.73z M45.11,43.71c5.35,0,9.68,4.34,9.68,9.68c0,5.35-4.34,9.68-9.68,9.68c-5.35,0-9.68-4.34-9.68-9.68 C35.43,48.04,39.76,43.71,45.11,43.71L45.11,43.71z M75.38,63.13c-5.34,0-9.66-4.33-9.66-9.66c0-10.46,14.34-13.33,18.51-3.9 C86.81,55.58,82.75,63.13,75.38,63.13L75.38,63.13L75.38,63.13z M51.17,76.86c-1.43-0.31-2.82-0.7-4.17-1.16 c-1.34-0.46-2.65-0.98-3.94-1.58c-0.62-0.29-0.87-0.98-0.56-1.55c0.19-0.34,0.53-0.56,0.91-0.62l0,0c0.65-0.1,1.22-0.18,1.75-0.25 c1.67-0.23,2.95-0.41,4.5-1.03c0.44-0.17,0.86-0.37,1.29-0.57c2.47-1.14,5.17-2.39,7.87-0.25c0.23,0.19,0.45,0.38,0.64,0.58 c0.19-0.2,0.4-0.4,0.64-0.58c2.7-2.14,5.4-0.89,7.87,0.25c0.43,0.2,0.85,0.4,1.29,0.57c1.56,0.62,2.84,0.8,4.5,1.03 c0.53,0.07,1.1,0.15,1.75,0.25l0,0c0.38,0.06,0.72,0.28,0.91,0.62c0.31,0.57,0.06,1.26-0.56,1.55c-1.28,0.59-2.59,1.12-3.94,1.58 c-1.35,0.46-2.74,0.85-4.17,1.16v0c-1.47,0.41-2.83,0.65-4.03,0.68c-1.37,0.03-2.55-0.23-3.49-0.85c-0.29-0.19-0.54-0.4-0.77-0.61 c-0.23,0.22-0.48,0.42-0.77,0.61c-0.94,0.63-2.12,0.88-3.49,0.85C53.99,77.51,52.64,77.27,51.17,76.86L51.17,76.86L51.17,76.86z M68.53,33.68c-0.64-0.3-0.91-1.07-0.61-1.71c0.31-0.64,1.07-0.91,1.71-0.61l11.51,5.49c0.64,0.3,0.91,1.07,0.61,1.71 c-0.31,0.64-1.07,0.91-1.71,0.61L68.53,33.68L68.53,33.68z M50.08,31.36c0.64-0.3,1.41-0.03,1.71,0.61s0.03,1.41-0.61,1.71 l-11.51,5.49c-0.64,0.3-1.41,0.03-1.71-0.61s-0.03-1.41,0.61-1.71L50.08,31.36L50.08,31.36z M56.2,65.19 c-0.54-0.45-0.62-1.26-0.16-1.81c0.45-0.54,1.26-0.62,1.81-0.16c0.64,0.54,1.25,0.82,1.84,0.83c0.59,0.01,1.24-0.26,1.93-0.83 c0.55-0.45,1.35-0.37,1.8,0.18c0.45,0.55,0.37,1.35-0.18,1.8c-1.18,0.97-2.38,1.43-3.59,1.42C58.45,66.59,57.3,66.1,56.2,65.19 L56.2,65.19z M52.31,81.86c-0.52-0.28-0.72-0.93-0.44-1.45c0.28-0.52,0.93-0.72,1.45-0.44c2.12,1.12,4.21,1.7,6.26,1.7 c2.06,0,4.12-0.55,6.17-1.69c0.52-0.28,1.17-0.09,1.45,0.42c0.28,0.52,0.09,1.17-0.42,1.45c-2.37,1.31-4.78,1.96-7.2,1.95 C57.15,83.8,54.72,83.15,52.31,81.86L52.31,81.86z M93.67,66.08V53.19c0.55-2.34,1.58-3.54,2.74-3.76 C100.4,48.65,99.81,65.18,93.67,66.08L93.67,66.08z M25.49,66.08V53.19c-0.55-2.34-1.58-3.55-2.74-3.76 C18.73,48.68,19.38,65.18,25.49,66.08L25.49,66.08z");
        svgIcons.add("M85.82,83.99V69.63c0.61-2.61,1.76-3.95,3.05-4.19C93.35,64.6,92.63,82.99,85.82,83.99L85.82,83.99z M82.96,65.92l-6.04,0.66c0.31,1.11,0.47,2.28,0.47,3.49c0,3.63-1.47,6.92-3.85,9.3c-2.38,2.38-5.67,3.85-9.3,3.85 c-3.63,0-6.92-1.47-9.3-3.85c-2.38-2.38-3.85-5.67-3.85-9.3c0-0.35,0.01-0.7,0.04-1.04c0-0.07-0.25-0.22-0.3-0.27 c-1.26-1.08-2.56-1.55-3.76-1.48c-1.2,0.07-2.38,0.68-3.4,1.78l-0.01,0c-0.06,0.06-0.14,0.15-0.23,0.27 c-0.03,0.04-0.07,0.08-0.11,0.11c0.01,0.21,0.02,0.42,0.02,0.63c0,3.63-1.47,6.92-3.85,9.3c-2.38,2.38-5.67,3.85-9.3,3.85 s-6.92-1.47-9.3-3.85C18.47,77,17,73.71,17,70.08c0-1.2,0.16-2.37,0.46-3.48l-6.1-0.76V91.2c1.9,9.11,4.24,9.87,10.07,15.58 l10.12,9.9c1.83,1.51,3.89,2.39,6.08,2.91c3.85,0.9,16.77,1.19,20.38,0.02c2.2-0.71,4.27-2.01,6.19-4.03l7.35-7.14 c7.1-6.89,11.92-9.86,11.41-21.27V65.92L82.96,65.92z M30.16,56.92c3.63,0,6.92,1.47,9.3,3.85c1.44,1.44,2.56,3.22,3.2,5.21 c1.27-0.93,2.7-1.47,4.19-1.55c1.65-0.1,3.33,0.35,4.92,1.39c0.66-1.92,1.75-3.64,3.15-5.05c2.38-2.38,5.67-3.85,9.3-3.85 c3.63,0,6.92,1.47,9.3,3.85c0.9,0.9,1.67,1.93,2.28,3.06l7.15-0.78v-11.8C58.87,34,44.05,19.72,23.98,32.43 c-7.14,4.52-9.36,13.79-12.62,18.96v11.58c0.07,0,0.14,0,0.21,0.01l6.99,0.87c0.61-1.14,1.39-2.17,2.29-3.08 C23.23,58.4,26.52,56.92,30.16,56.92L30.16,56.92z M31.89,48.99c0.97-0.04,1.78,0.71,1.82,1.67c0.04,0.97-0.71,1.78-1.67,1.82 c-2.68,0.12-4.97,0.67-6.89,1.6c-1.87,0.9-3.39,2.19-4.6,3.82c-0.58,0.78-1.67,0.94-2.45,0.36c-0.78-0.58-0.94-1.67-0.36-2.45 c1.55-2.09,3.5-3.73,5.89-4.89C25.96,49.8,28.71,49.14,31.89,48.99L31.89,48.99z M63.95,52.14c-0.97,0-1.75-0.79-1.74-1.76 c0-0.97,0.79-1.75,1.76-1.74c2.9,0.01,5.54,0.56,7.92,1.67c2.4,1.13,4.5,2.82,6.28,5.13c0.59,0.77,0.45,1.86-0.32,2.46 c-0.76,0.59-1.86,0.45-2.46-0.32c-1.43-1.86-3.1-3.21-4.99-4.1C68.5,52.59,66.34,52.15,63.95,52.14L63.95,52.14z M60.88,94.71 c-1.5,0.51-3.05,0.94-4.65,1.29l0,0c-1.64,0.45-3.15,0.73-4.49,0.76c-1.53,0.03-2.84-0.26-3.89-0.95 c-0.32-0.21-0.61-0.44-0.86-0.69c-0.25,0.24-0.54,0.47-0.86,0.69c-1.05,0.7-2.36,0.98-3.89,0.95c-1.34-0.03-2.85-0.3-4.49-0.76l0,0 c-1.6-0.35-3.14-0.78-4.65-1.29c-1.5-0.51-2.96-1.1-4.39-1.76c-0.69-0.32-0.97-1.09-0.62-1.73c0.21-0.38,0.59-0.62,1.01-0.69l0,0 c0.76-0.12,1.37-0.2,1.94-0.28l0.05-0.01c1.84-0.25,3.25-0.45,4.98-1.14c0.49-0.19,0.96-0.41,1.44-0.63 c2.75-1.27,5.76-2.66,8.77-0.28c0.26,0.21,0.5,0.42,0.71,0.65c0.21-0.23,0.45-0.44,0.71-0.65c3-2.39,6.02-1,8.77,0.28 c0.48,0.22,0.95,0.44,1.44,0.63c1.72,0.69,3.14,0.89,4.98,1.14l0.05,0.01c0.57,0.08,1.18,0.16,1.94,0.28l0,0 c0.42,0.07,0.81,0.31,1.01,0.69c0.35,0.63,0.07,1.41-0.62,1.73C63.84,93.62,62.38,94.21,60.88,94.71L60.88,94.71z M43.36,82.99 c-0.61-0.51-0.69-1.41-0.18-2.01c0.51-0.61,1.41-0.69,2.01-0.18c0.71,0.6,1.4,0.91,2.05,0.92c0.66,0.01,1.38-0.29,2.15-0.93 c0.61-0.5,1.51-0.41,2.01,0.2c0.5,0.61,0.41,1.51-0.2,2.01c-1.32,1.08-2.65,1.59-4,1.58C45.87,84.56,44.58,84.02,43.36,82.99 L43.36,82.99z M38.88,101.85c-0.73-0.39-1.01-1.3-0.62-2.03c0.39-0.73,1.3-1.01,2.03-0.62c2.32,1.23,4.59,1.85,6.83,1.86 c2.24,0.01,4.48-0.61,6.73-1.85c0.73-0.4,1.64-0.13,2.04,0.59c0.4,0.73,0.13,1.64-0.59,2.04c-2.69,1.49-5.42,2.22-8.18,2.21 C44.36,104.05,41.61,103.31,38.88,101.85L38.88,101.85z M8.55,83.99V69.63c-0.61-2.61-1.76-3.95-3.05-4.19 C1.01,64.6,1.74,82.99,8.55,83.99L8.55,83.99z M8.96,86.46c-0.25,0.04-0.51,0.05-0.77,0.01c-4.72-0.69-7.26-6.47-7.87-12 c-0.17-1.52-0.2-3.03-0.09-4.39c0.11-1.45,0.38-2.79,0.82-3.87c0.94-2.36,2.56-3.67,4.91-3.24c1.12,0.21,2.15,0.79,3.01,1.77v-1.92 l-1.92-1.08c-0.53-5.23-1.88-11.66-2.73-17.61c-0.14-0.96-0.22-1.89-0.27-2.81C1.98,41.74,0.3,39.81,0,34.4v-8.72 c1.26-10.43,6.12-14.62,14.09-13.42C21.68,4.33,32.39-0.1,47.13,0.02C63.56-0.3,77.56,3.53,87.73,13.94 c5.35,5.32,7.62,13.57,6.25,25.31c0.06,2.23-0.07,4.56-0.43,7.02c-0.76,5.29-1.74,10.91-2.04,15.04l-2.55,1.59 c2.06-0.15,3.5,1.13,4.37,3.31c0.43,1.09,0.7,2.42,0.82,3.87c0.1,1.36,0.07,2.86-0.09,4.39c-0.61,5.53-3.15,11.31-7.87,12 c-0.21,0.03-0.41,0.03-0.61,0.01v0.7c0,0.03,0,0.06,0,0.09c0.45,11.06-3.58,14.85-9.81,20.72c-0.77,0.73-1.59,1.49-2.36,2.24 l-7.31,7.1c-1.09,1.14-2.23,2.09-3.42,2.86c-1.21,0.78-2.47,1.38-3.79,1.8c-1.95,0.63-5.96,0.89-10.07,0.88 c-4.6-0.01-9.45-0.33-11.65-0.85c-1.26-0.3-2.49-0.7-3.66-1.25c-1.18-0.55-2.33-1.26-3.43-2.17c-0.06-0.05-0.11-0.1-0.17-0.15l0,0 l-10.12-9.9c-0.87-0.85-1.74-1.66-2.52-2.39c-4.41-4.11-6.5-6.06-8.25-14.47c-0.04-0.17-0.05-0.34-0.05-0.51H8.96V86.46L8.96,86.46 z");
        int iconIndex = new Random().nextInt(svgIcons.size());
        svgPessoa = new SVGPath();
        //svgPessoa.setContent("M117.49326,98.27951a11.41528,11.41528,0,0,0-6.1519-8.2847c-10.697-5.33411-34.17046-13.212-34.17046-13.212V69.03229l.65343-.49313a22.42566,22.42566,0,0,0,8.51484-14.25174l.13151-.826h.637a8.66287,8.66287,0,0,0,8.01764-5.39167A9.43369,9.43369,0,0,0,96.30471,43.5a8.67979,8.67979,0,0,0-.61644-3.21363A4.48227,4.48227,0,0,0,93.95,37.49191l-2.16572-1.315.53834-2.35062c3.91226-17.0544-9.29979-32.41574-27.04046-32.839C64.85067.979,64.42327.975,64,.98315,63.57669.975,63.14933.979,62.71783.98726c-17.74068.42329-30.95269,15.78463-27.04046,32.839l.53834,2.35062L34.05,37.49191a4.48232,4.48232,0,0,0-1.73833,2.79448A8.67976,8.67976,0,0,0,31.69529,43.5a9.4333,9.4333,0,0,0,1.17942,4.56973,8.66286,8.66286,0,0,0,8.0176,5.39167h.637l.13151.826a22.42566,22.42566,0,0,0,8.51484,14.25174l.65343.49313v7.75047s-23.4734,7.87794-34.17042,13.212a11.4151,11.4151,0,0,0-6.1519,8.2847c-1.83285,10.697-2.15747,28.7418-2.15747,28.7418H119.65073S119.32607,108.97654,117.49326,98.27951Z");
        svgPessoa.setContent(svgIcons.get(iconIndex));
        svgPessoa.setScaleX(0.7);

        panePessoa = new StackPane();
        panePessoa.getChildren().add(svgPessoa);
        panePessoa.setScaleX(0.4);
        panePessoa.setScaleY(0.3);
    }

    public boolean isInfetada() {
        return infetada;
    }

    public boolean isImune() {
        return imune;
    }

    public boolean tentaFicarImune(){
        Random r = new Random();
        if(r.nextDouble() < probImunidade ) imune = true;
        if(isImune()) svgPessoa.setFill(Color.DARKGREEN);
        return isImune();
    }

    public boolean isQuarentena() {
        return quarentena;
    }

    public void setQuarentena(boolean quarentena) {
        this.quarentena = quarentena;
        if(quarentena){
            panePessoa.setStyle("-fx-border-color: darkorange;-fx-border-width: 6;-fx-border-insets: 5;");

            svgPessoa.setFill(Color.DARKRED);
            this.infetada = false;

        }else{
            panePessoa.setStyle("-fx-border-color: none;");
            svgPessoa.setFill(Color.BLACK);
        }
    }

    public int getDiasInfetados() {
        return diasInfetados;
    }

    public int getTurnosEmQuarentena() {
        return turnosEmQuarentena;
    }

    public void setTurnosEmQuarentena(int turnosEmQuarentena) {
        this.turnosEmQuarentena = turnosEmQuarentena;
        if(this.turnosEmQuarentena < 0 ) this.turnosEmQuarentena = 0;
    }

    public int decTurnoEmIsolamento(){
        this.turnosEmQuarentena--;
        if(this.turnosEmQuarentena < 0 ) this.turnosEmQuarentena = 0;
        return this.turnosEmQuarentena;
    }

    public Posicao getPosicao() {
        return new Posicao(posicao.getX(),posicao.getY());
    }

    public void move(Direcao direcao){
        posicao.move(direcao);
    }

    public void infetar(){
        this.setInfetada(true);
    }

    public void setInfetada(boolean infetada) {
        this.infetada = infetada;
        if(this.isImune())this.infetada = false;
    }

    public StackPane getPanePessoa() {
        return panePessoa;
    }



    @Override
    public String toString() {
        return "Pessoa{" +
                "infetada=" + infetada +
                ", imune=" + imune +
                ", quarentena=" + quarentena +
                ", diasInfetados=" + diasInfetados +
                ", diasEmQuarentena=" + turnosEmQuarentena +
                ", posicao=" + posicao +
                ", probInfetar=" + probInfetar +
                ", probImunidade=" + probImunidade +
                ", turnoSemInfetar=" + turnoSemInfetar + "\n" +
                '}';
    }

    public void setPosicao(Posicao pos) {
        this.prevPosicao = this.posicao;
        this.posicao = pos;
    }

    public void contactoPessoaInfetada() {
        contactoInfetada = true;
        if(podeSerInfetado){
            if((new Random().nextDouble()) < probInfetar){
                infetada = true;
                podeSerInfetado=false;
            }
        }
        if(!this.isQuarentena() && !this.isImune())svgPessoa.setFill(Color.ORANGE);
    }

    public void resetContacto() {
        contactoInfetada = false;
        if(!this.isQuarentena() && !this.isImune())svgPessoa.setFill(Color.BLACK);
    }

    public boolean isContactoInfetada() {
        return contactoInfetada;
    }

    public int getTurnoSemInfetarCount() {
        return turnoSemInfetarCount;
    }

    public void setTurnoSemInfetarCount(int turnoSemInfetarCount) {
        this.turnoSemInfetarCount = turnoSemInfetarCount;
    }

    public boolean getPodeSerInfetado() {
        return podeSerInfetado;
    }

    public int getTurnoSemInfetar() {
        return turnoSemInfetar;
    }

    public void setPodeSerInfetado(boolean podeSerInfetado) {
        this.podeSerInfetado = podeSerInfetado;
    }

    public Posicao getPrevPosicao() {
        return prevPosicao;
    }


}
